# ä¸Šæ¸¸ä»“åº“åŒæ­¥æ“ä½œæ–‡æ¡£

## ğŸ“‹ é¡¹ç›®ä¿¡æ¯

- **ä¸Šæ¸¸ä»“åº“**: [Wei-Shaw/claude-relay-service](https://github.com/Wei-Shaw/claude-relay-service)
- **Fork ä»“åº“**: [UncleJ-h/claude-relay-service](https://github.com/UncleJ-h/claude-relay-service)
- **æœ¬åœ°è·¯å¾„**: `/Users/jeffreyhu/DEV/claude-relay-service`
- **éƒ¨ç½²å¹³å°**: Zeaburï¼ˆè‡ªåŠ¨éƒ¨ç½²ï¼‰

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ¬¡åŒæ­¥ï¼Ÿè¯·çœ‹è¿™é‡Œï¼

å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡åŒæ­¥ï¼Œæˆ–è€…ä¸ç¡®å®šå¦‚ä½•å¼€å§‹ï¼Œè¯·ä½¿ç”¨ **Claude Code è‡ªåŠ¨åŒ–æŒ‡ä»¤**ï¼š

```
è¯·æŒ‰ç…§ SYNC_UPSTREAM.md æ–‡æ¡£æ‰§è¡Œä¸Šæ¸¸åŒæ­¥ï¼Œä½¿ç”¨ Rebase ç­–ç•¥ï¼Œ
é‡åˆ°å†²çªè‡ªåŠ¨å¤„ç†ï¼ˆåŠŸèƒ½ä¿ç•™ä¸Šæ¸¸ï¼ŒUIä¿ç•™æˆ‘çš„å®šåˆ¶ï¼‰ï¼Œ
åŒæ­¥å®Œæˆåæ›´æ–°æ¨¡å‹å®šä»·æ•°æ®å¹¶æ¨é€åˆ° GitHub
```

**åªéœ€å¤åˆ¶ä¸Šé¢è¿™æ®µè¯ç»™ Claude Codeï¼Œå®ƒä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼**

### å®šæœŸæ£€æŸ¥æ›´æ–°

å»ºè®®æ¯ 1-2 å‘¨æ£€æŸ¥ä¸€æ¬¡ä¸Šæ¸¸æ›´æ–°ï¼š

1. è®¿é—® [ä¸Šæ¸¸ Releases é¡µé¢](https://github.com/Wei-Shaw/claude-relay-service/releases)
2. æŸ¥çœ‹æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒ
3. é˜…è¯» Release Notes äº†è§£æ–°åŠŸèƒ½å’Œæ”¹è¿›
4. ä½¿ç”¨æœ¬æ–‡æ¡£è¿›è¡ŒåŒæ­¥

## ğŸ¨ æœ¬åœ°å®šåˆ¶å†…å®¹

ä»¥ä¸‹å†…å®¹æ˜¯æˆ‘ä»¬çš„å“ç‰Œå®šåˆ¶ï¼Œ**éœ€è¦åœ¨æ¯æ¬¡åŒæ­¥æ—¶ä¿ç•™**ï¼š

### å“ç‰Œä¿¡æ¯
- **å“ç‰Œåç§°**: Whoos Solutions API Hub
- **Logo**: `web/admin-spa/public/logo.svg`
- **Favicon**: `web/admin-spa/public/favicon.ico`

### UI é…è‰²æ–¹æ¡ˆ
- **ä¸»é¢˜**: åŒ—å¤§çº¢é‡‘æ¸å˜
- **é¢œè‰²å€¼**:
  - æ·±çº¢: `#b31b1b` (åŒ—äº¬å¤§å­¦çº¢)
  - äº®çº¢: `#e4002b`
  - é‡‘é»„: `#ffcd00`

### ä¿®æ”¹çš„æ–‡ä»¶
1. `web/admin-spa/src/styles/global.css` - å…¨å±€æ¸å˜é…è‰²
2. `web/admin-spa/src/views/ApiStatsView.vue` - API ç»Ÿè®¡é¡µé¢é…è‰²
3. `web/admin-spa/public/logo.svg` - å“ç‰Œ Logo
4. `web/admin-spa/public/favicon.ico` - ç½‘ç«™å›¾æ ‡
5. `web/admin-spa/index.html` - ç«™ç‚¹æ ‡é¢˜
6. `vite.config.js` - ESLint æ„å»ºé…ç½®ï¼ˆå¦‚æœ‰ï¼‰

## ğŸš€ åŒæ­¥æµç¨‹ï¼ˆå®Œæ•´ç‰ˆï¼‰

### æ–¹å¼ä¸€ï¼šè‡ªåŠ¨åŒæ­¥ï¼ˆæ¨èï¼‰â­

**ä½¿ç”¨ Claude Code ä¸€é”®å®Œæˆæ‰€æœ‰æ“ä½œï¼š**

1. æ‰“å¼€ Claude Code
2. è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š

```
è¯·æŒ‰ç…§ SYNC_UPSTREAM.md æ–‡æ¡£æ‰§è¡Œä¸Šæ¸¸åŒæ­¥ï¼Œä½¿ç”¨ Rebase ç­–ç•¥ï¼Œ
é‡åˆ°å†²çªè‡ªåŠ¨å¤„ç†ï¼ˆåŠŸèƒ½ä¿ç•™ä¸Šæ¸¸ï¼ŒUIä¿ç•™æˆ‘çš„å®šåˆ¶ï¼‰ï¼Œ
åŒæ­¥å®Œæˆåæ›´æ–°æ¨¡å‹å®šä»·æ•°æ®å¹¶æ¨é€åˆ° GitHub
```

3. ç­‰å¾…æ‰§è¡Œå®Œæˆ
4. æ£€æŸ¥ Zeabur éƒ¨ç½²çŠ¶æ€

**Claude Code ä¼šè‡ªåŠ¨å®Œæˆï¼š**
- âœ… é…ç½® upstream è¿œç¨‹ä»“åº“
- âœ… æ‹‰å–æœ€æ–°ä»£ç å¹¶ rebase åˆå¹¶
- âœ… æ™ºèƒ½å¤„ç†å†²çªï¼ˆåŠŸèƒ½ä¿ç•™ä¸Šæ¸¸ï¼ŒUIä¿ç•™å®šåˆ¶ï¼‰
- âœ… æµ‹è¯•æ„å»º
- âœ… æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®
- âœ… æäº¤å¹¶æ¨é€åˆ° GitHub
- âœ… è§¦å‘ Zeabur è‡ªåŠ¨éƒ¨ç½²

---

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨åŒæ­¥ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

#### å‡†å¤‡å·¥ä½œï¼ˆé¦–æ¬¡æ‰§è¡Œéœ€è¦ï¼‰

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/jeffreyhu/DEV/claude-relay-service

# 2. æ·»åŠ ä¸Šæ¸¸ä»“åº“ï¼ˆé¦–æ¬¡éœ€è¦ï¼‰
git remote add upstream https://github.com/Wei-Shaw/claude-relay-service.git

# 3. éªŒè¯è¿œç¨‹ä»“åº“é…ç½®
git remote -v
# åº”è¯¥çœ‹åˆ°ï¼š
# origin    git@github.com:UncleJ-h/claude-relay-service.git (fetch/push)
# upstream  https://github.com/Wei-Shaw/claude-relay-service.git (fetch/push)
```

#### åŒæ­¥æ­¥éª¤ï¼ˆæ¯æ¬¡æ›´æ–°æ‰§è¡Œï¼‰

```bash
# ========================================
# ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡å’Œè·å–æ›´æ–°
# ========================================

# 1. ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•
cd /Users/jeffreyhu/DEV/claude-relay-service

# 2. ç¡®ä¿æœ¬åœ°å·¥ä½œåŒºå¹²å‡€
git status
# å¦‚æœæœ‰æœªæäº¤çš„æ›´æ”¹ï¼Œå…ˆæäº¤æˆ–æš‚å­˜ï¼š
# git add .
# git commit -m "æè¿°ä¿®æ”¹å†…å®¹"

# 3. æ‹‰å–ä¸Šæ¸¸æœ€æ–°ä»£ç 
git fetch upstream

# 4. æŸ¥çœ‹ä¸Šæ¸¸æ›´æ–°å†…å®¹ï¼ˆå¯é€‰ä½†æ¨èï¼‰
echo "=== ä¸Šæ¸¸æ–°å¢çš„æäº¤ ==="
git log --oneline HEAD..upstream/main | head -20

echo "=== ä¸Šæ¸¸æ›´æ–°äº†å¤šå°‘ä¸ªç‰ˆæœ¬ ==="
git log --oneline HEAD..upstream/main | wc -l

# ========================================
# ç¬¬äºŒé˜¶æ®µï¼šåˆå¹¶æ›´æ–°
# ========================================

# 5. æ‰§è¡Œ rebase åˆå¹¶
git rebase upstream/main

# 6. å¦‚æœæœ‰å†²çªï¼Œè§£å†³åç»§ç»­
# å¦‚æœå‡ºç°å†²çªï¼š
# - ç¼–è¾‘å†²çªæ–‡ä»¶ï¼ˆå‚è€ƒä¸‹é¢çš„å†²çªå¤„ç†ç­–ç•¥ï¼‰
# - git add <å·²è§£å†³çš„æ–‡ä»¶>
# - git rebase --continue
#
# å¦‚æœæƒ³æ”¾å¼ƒ rebaseï¼š
# - git rebase --abort

# ========================================
# ç¬¬ä¸‰é˜¶æ®µï¼šæµ‹è¯•å’Œæ›´æ–°
# ========================================

# 7. æ£€æŸ¥æ¨¡å‹é…ç½®åŒæ­¥ï¼ˆé‡è¦ï¼æ–°å¢æ­¥éª¤ï¼‰
bash scripts/check-model-sync.sh
# å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œæ‰‹åŠ¨æ›´æ–°ç¼ºå¤±çš„å‰ç«¯æ¨¡å‹åˆ—è¡¨

# 8. æµ‹è¯• Web ç•Œé¢æ„å»ºï¼ˆé‡è¦ï¼ï¼‰
npm run build:web

# 9. æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®ï¼ˆå¦‚æœä¸Šæ¸¸æœ‰æ–°æ¨¡å‹ï¼‰
npm run update:pricing

# 10. æäº¤å®šä»·æ›´æ–°ï¼ˆå¦‚æœæœ‰å˜åŒ–ï¼‰
git status
# å¦‚æœæœ‰å˜åŒ–ï¼ˆå®šä»·æ–‡ä»¶æˆ–æ¨¡å‹é…ç½®ï¼‰ï¼š
git add resources/model-pricing/model_prices_and_context_window.json
git add web/admin-spa/src/components/  # å¦‚æœæœ‰æ¨¡å‹åˆ—è¡¨æ›´æ–°
git commit -m "chore: åŒæ­¥ä¸Šæ¸¸ v<ç‰ˆæœ¬å·> + æ›´æ–°æ¨¡å‹é…ç½®å’Œå®šä»·æ•°æ®"

# ========================================
# ç¬¬å››é˜¶æ®µï¼šæ¨é€å’Œéƒ¨ç½²
# ========================================

# 10. æ¨é€åˆ° GitHubï¼ˆå¼ºåˆ¶æ¨é€ï¼Œå› ä¸º rebase æ”¹å†™äº†å†å²ï¼‰
git push origin main --force-with-lease

# å¦‚æœä¸Šé¢å¤±è´¥ï¼ˆå¯èƒ½æ˜¯è¿œç¨‹æœ‰å…¶ä»–æ›´æ–°ï¼‰ï¼Œä½¿ç”¨ï¼š
# git push origin main --force

# 11. ç­‰å¾… Zeabur è‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼ˆçº¦ 2-5 åˆ†é’Ÿï¼‰
echo "âœ… æ¨é€æˆåŠŸï¼è¯·è®¿é—® Zeabur æ§åˆ¶å°æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€"
echo "ğŸ”— https://zeabur.com"
```

## ğŸ¤– Claude Code å¿«é€Ÿæ‰§è¡ŒæŒ‡ä»¤

**å½“æ‚¨éœ€è¦åŒæ­¥æ—¶ï¼Œåªéœ€å‘Šè¯‰ Claude Codeï¼š**

```
è¯·æŒ‰ç…§ SYNC_UPSTREAM.md æ–‡æ¡£æ‰§è¡Œä¸Šæ¸¸åŒæ­¥ï¼Œä½¿ç”¨ Rebase ç­–ç•¥ï¼Œ
é‡åˆ°å†²çªè‡ªåŠ¨å¤„ç†ï¼ˆåŠŸèƒ½ä¿ç•™ä¸Šæ¸¸ï¼ŒUIä¿ç•™æˆ‘çš„å®šåˆ¶ï¼‰ï¼Œ
åŒæ­¥å®Œæˆåæ›´æ–°æ¨¡å‹å®šä»·æ•°æ®å¹¶æ¨é€åˆ° GitHub
```

**Claude Code ä¼šè‡ªåŠ¨ï¼š**
1. âœ… å®šä½é¡¹ç›®ç›®å½•
2. âœ… æ·»åŠ /æ›´æ–° upstream è¿œç¨‹ä»“åº“
3. âœ… æ‹‰å–ä¸Šæ¸¸æœ€æ–°ä»£ç 
4. âœ… æ‰§è¡Œ rebase åˆå¹¶
5. âœ… è‡ªåŠ¨å¤„ç†å†²çªï¼ˆæŒ‰ç­–ç•¥ï¼šåŠŸèƒ½ä¿ç•™ä¸Šæ¸¸ï¼ŒUIä¿ç•™å®šåˆ¶ï¼‰
6. âœ… æµ‹è¯•æ„å»º
7. âœ… æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®ï¼ˆ`npm run update:pricing`ï¼‰
8. âœ… æäº¤å¹¶æ¨é€åˆ° GitHubï¼ˆè§¦å‘ Zeabur è‡ªåŠ¨éƒ¨ç½²ï¼‰

## âš ï¸ å†²çªå¤„ç†ç­–ç•¥

### è‡ªåŠ¨å¤„ç†åŸåˆ™
- **åŠŸèƒ½æ€§ä»£ç **: ä¼˜å…ˆä¿ç•™ä¸Šæ¸¸çš„æ–°åŠŸèƒ½
- **UI/æ ·å¼ä»£ç **: ä¼˜å…ˆä¿ç•™æˆ‘ä»¬çš„å“ç‰Œå®šåˆ¶
- **é…ç½®æ–‡ä»¶**: æ ¹æ®å…·ä½“æƒ…å†µåˆ¤æ–­

### å¯èƒ½å†²çªçš„æ–‡ä»¶
å¦‚æœä»¥ä¸‹æ–‡ä»¶å‘ç”Ÿå†²çªï¼Œä¼˜å…ˆä¿ç•™æˆ‘ä»¬çš„ç‰ˆæœ¬ï¼š
- `web/admin-spa/src/styles/global.css` â†’ ä¿ç•™çº¢é‡‘æ¸å˜
- `web/admin-spa/src/views/ApiStatsView.vue` â†’ ä¿ç•™çº¢é‡‘é…è‰²
- `web/admin-spa/public/logo.svg` â†’ ä¿ç•™ Whoos Logo
- `web/admin-spa/public/favicon.ico` â†’ ä¿ç•™ Whoos å›¾æ ‡
- `web/admin-spa/index.html` â†’ ä¿ç•™ "Whoos Solutions API Hub" æ ‡é¢˜

## ğŸ“Š åŒæ­¥æ£€æŸ¥æ¸…å•

åŒæ­¥å®Œæˆåï¼ŒéªŒè¯ä»¥ä¸‹å†…å®¹ï¼š

### Git çŠ¶æ€
```bash
# æŸ¥çœ‹æäº¤å†å²ï¼ˆæˆ‘ä»¬çš„å®šåˆ¶åº”è¯¥åœ¨æœ€ä¸Šé¢ï¼‰
git log --oneline -10

# æŸ¥çœ‹è¿œç¨‹åŒæ­¥çŠ¶æ€
git status
```

### æ„å»ºæµ‹è¯•
```bash
# Web ç•Œé¢æ„å»º
npm run build:web

# åº”è¯¥çœ‹åˆ°æˆåŠŸä¿¡æ¯ï¼š
# âœ“ built in X.XXs
```

### ğŸ¯ æ–°æ¨¡å‹åŒæ­¥æ£€æŸ¥æ¸…å•ï¼ˆé‡è¦ï¼ï¼‰

**å½“ä¸Šæ¸¸æ·»åŠ æ–°æ¨¡å‹æ—¶ï¼Œå¿…é¡»æ£€æŸ¥ä»¥ä¸‹æ–‡ä»¶æ˜¯å¦éœ€è¦åŒæ­¥æ›´æ–°ï¼š**

#### åç«¯æ£€æŸ¥
- [ ] **src/services/modelService.js** - æ¨¡å‹åˆ—è¡¨æ˜¯å¦å·²æ›´æ–°
  ```bash
  # æ£€æŸ¥å‘½ä»¤ï¼š
  grep -A 15 "getDefaultModels()" src/services/modelService.js
  ```

#### å‰ç«¯æ£€æŸ¥ï¼ˆè¿™äº›æ–‡ä»¶å®¹æ˜“é—æ¼ï¼ï¼‰
- [ ] **web/admin-spa/src/components/apikeys/CreateApiKeyModal.vue** - commonModels åˆ—è¡¨
  ```bash
  # æ£€æŸ¥å‘½ä»¤ï¼š
  grep -A 5 "å¸¸ç”¨æ¨¡å‹åˆ—è¡¨" web/admin-spa/src/components/apikeys/CreateApiKeyModal.vue
  ```

- [ ] **web/admin-spa/src/components/apikeys/EditApiKeyModal.vue** - commonModels åˆ—è¡¨
  ```bash
  # æ£€æŸ¥å‘½ä»¤ï¼š
  grep -A 5 "å¸¸ç”¨æ¨¡å‹åˆ—è¡¨" web/admin-spa/src/components/apikeys/EditApiKeyModal.vue
  ```

- [ ] **web/admin-spa/src/components/accounts/AccountForm.vue** - commonModels æ•°ç»„
  ```bash
  # æ£€æŸ¥å‘½ä»¤ï¼š
  grep -A 15 "å¸¸ç”¨æ¨¡å‹åˆ—è¡¨" web/admin-spa/src/components/accounts/AccountForm.vue
  ```

#### è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬ï¼ˆæ¨èä½¿ç”¨ï¼‰

**æ–¹å¼ 1ï¼šä½¿ç”¨ä¸“ç”¨æ£€æŸ¥è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰**
```bash
# è¿è¡Œè‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬
bash scripts/check-model-sync.sh

# å¦‚æœæ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼Œä¼šæ˜¾ç¤ºï¼š
# âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼æ¨¡å‹é…ç½®å·²åŒæ­¥
```

**æ–¹å¼ 2ï¼šæ‰‹åŠ¨æ£€æŸ¥å‘½ä»¤**
```bash
# ä¸€é”®æ£€æŸ¥æ‰€æœ‰æ¨¡å‹é…ç½®æ–‡ä»¶
echo "=== åç«¯æ¨¡å‹åˆ—è¡¨ ==="
grep "claude-opus-4-5\|claude-sonnet-4-5\|claude-haiku-4-5" src/services/modelService.js

echo -e "\n=== å‰ç«¯ CreateApiKeyModal ==="
grep -A 3 "commonModels.*ref" web/admin-spa/src/components/apikeys/CreateApiKeyModal.vue

echo -e "\n=== å‰ç«¯ EditApiKeyModal ==="
grep -A 3 "commonModels.*ref" web/admin-spa/src/components/apikeys/EditApiKeyModal.vue

echo -e "\n=== å‰ç«¯ AccountForm ==="
grep "claude-opus-4-5\|claude-sonnet-4-5\|claude-haiku-4-5" web/admin-spa/src/components/accounts/AccountForm.vue | head -5
```

### è§†è§‰éªŒè¯ï¼ˆéƒ¨ç½²åï¼‰
- [ ] è®¿é—®ç®¡ç†åå° URL
- [ ] ç¡®è®¤ Logo æ˜¯ Whoos Solutions
- [ ] ç¡®è®¤é…è‰²æ˜¯çº¢é‡‘æ¸å˜
- [ ] ç¡®è®¤é¡µé¢æ ‡é¢˜æ˜¯ "Whoos Solutions API Hub"
- [ ] **æµ‹è¯•æ–°æ¨¡å‹æ˜¯å¦åœ¨ API Key åˆ›å»º/ç¼–è¾‘ç•Œé¢çš„å¿«æ·é€‰æ‹©ä¸­å¯è§**
- [ ] **æµ‹è¯•æ–°æ¨¡å‹æ˜¯å¦åœ¨è´¦æˆ·é…ç½®ç•Œé¢çš„æ¨¡å‹æ˜ å°„ä¸­å¯é€‰**
- [ ] æµ‹è¯•æ–°åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜é€ŸæŸ¥è¡¨

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ | å‘½ä»¤ |
|---------|------|---------|------|
| `fatal: remote upstream already exists` | upstream å·²é…ç½® | æ›´æ–° URL | `git remote set-url upstream https://github.com/Wei-Shaw/claude-relay-service.git` |
| `error: could not apply...` | rebase å†²çª | è§£å†³å†²çªæˆ–ä¸­æ­¢ | è§ä¸‹æ–¹"å†²çªå¤„ç†è¯¦è§£" |
| `! [rejected] ... (non-fast-forward)` | æ¨é€è¢«æ‹’ç» | ä½¿ç”¨å¼ºåˆ¶æ¨é€ | `git push origin main --force-with-lease` |
| `Failed to connect to github.com` | ç½‘ç»œé—®é¢˜ | åˆ‡æ¢åˆ° SSH | `git remote set-url origin git@github.com:UncleJ-h/claude-relay-service.git` |
| `npm run build:web` å¤±è´¥ | ä¾èµ–é—®é¢˜ | é‡æ–°å®‰è£… | è§ä¸‹æ–¹"æ„å»ºå¤±è´¥" |

### é—®é¢˜ 1ï¼šupstream å·²å­˜åœ¨

**é”™è¯¯ä¿¡æ¯ï¼š**
```
fatal: remote upstream already exists.
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ–¹æ³• 1ï¼šæ›´æ–° upstream URL
git remote set-url upstream https://github.com/Wei-Shaw/claude-relay-service.git

# æ–¹æ³• 2ï¼šåˆ é™¤åé‡æ–°æ·»åŠ 
git remote remove upstream
git remote add upstream https://github.com/Wei-Shaw/claude-relay-service.git

# éªŒè¯é…ç½®
git remote -v
```

### é—®é¢˜ 2ï¼šrebase è¿‡ç¨‹ä¸­å‡ºç°å†²çª

**å†²çªå¤„ç†è¯¦è§£ï¼š**

```bash
# 1. æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# 2. å¯¹äºæ¯ä¸ªå†²çªæ–‡ä»¶ï¼Œæ ¹æ®ç±»å‹å¤„ç†ï¼š

# UI/æ ·å¼æ–‡ä»¶ï¼ˆä¿ç•™æˆ‘ä»¬çš„ç‰ˆæœ¬ï¼‰ï¼š
# - web/admin-spa/src/styles/global.css
# - web/admin-spa/src/views/ApiStatsView.vue
# - web/admin-spa/public/logo.svg
# - web/admin-spa/public/favicon.ico
git checkout --ours <å†²çªæ–‡ä»¶>
git add <å†²çªæ–‡ä»¶>

# åŠŸèƒ½æ€§ä»£ç æ–‡ä»¶ï¼ˆä¿ç•™ä¸Šæ¸¸ç‰ˆæœ¬ï¼‰ï¼š
# - src/services/*.js
# - src/routes/*.js
# - src/utils/*.js
git checkout --theirs <å†²çªæ–‡ä»¶>
git add <å†²çªæ–‡ä»¶>

# éœ€è¦æ‰‹åŠ¨åˆå¹¶çš„æ–‡ä»¶ï¼š
# ç¼–è¾‘æ–‡ä»¶ï¼Œæ‰‹åŠ¨è§£å†³å†²çªæ ‡è®°ï¼ˆ<<<<<<< ======= >>>>>>>ï¼‰
# ä¿å­˜åï¼š
git add <å†²çªæ–‡ä»¶>

# 3. ç»§ç»­ rebase
git rebase --continue

# å¦‚æœæƒ³æ”¾å¼ƒ rebaseï¼š
git rebase --abort
git reset --hard origin/main
```

**å¿«é€Ÿè§£å†³å†²çªçš„æŠ€å·§ï¼š**

```bash
# æ‰¹é‡æ¥å—æˆ‘ä»¬çš„å“ç‰Œæ–‡ä»¶
git checkout --ours web/admin-spa/src/styles/global.css
git checkout --ours web/admin-spa/src/views/ApiStatsView.vue
git checkout --ours web/admin-spa/public/logo.svg
git checkout --ours web/admin-spa/public/favicon.ico
git checkout --ours web/admin-spa/index.html
git add web/admin-spa/

# æ‰¹é‡æ¥å—ä¸Šæ¸¸çš„åŠŸèƒ½ä»£ç 
git checkout --theirs src/
git add src/
```

### é—®é¢˜ 3ï¼šæ¨é€è¢«æ‹’ç»

**é”™è¯¯ä¿¡æ¯ï¼š**
```
! [rejected] main -> main (non-fast-forward)
```

**è§£å†³æ–¹æ¡ˆï¼ˆæŒ‰é¡ºåºå°è¯•ï¼‰ï¼š**

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ --force-with-leaseï¼ˆæ¨èï¼Œæ›´å®‰å…¨ï¼‰
git push origin main --force-with-lease

# æ–¹æ³• 2ï¼šå¦‚æœæ–¹æ³• 1 å¤±è´¥ï¼Œå…ˆæ£€æŸ¥è¿œç¨‹çŠ¶æ€
git fetch origin
git status
git log --oneline origin/main -5

# æ–¹æ³• 3ï¼šç¡®è®¤åä½¿ç”¨å¼ºåˆ¶æ¨é€ï¼ˆè°¨æ…ï¼ä¼šè¦†ç›–è¿œç¨‹ï¼‰
git push origin main --force
```

### é—®é¢˜ 4ï¼šç½‘ç»œè¿æ¥é—®é¢˜

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Failed to connect to github.com port 443
fatal: unable to access 'https://github.com/...'
```

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# æ–¹æ³• 1ï¼šåˆ‡æ¢åˆ° SSH æ–¹å¼ï¼ˆæ¨èï¼‰
git remote set-url origin git@github.com:UncleJ-h/claude-relay-service.git

# æµ‹è¯• SSH è¿æ¥
ssh -T git@github.com
# åº”è¯¥çœ‹åˆ°ï¼šHi UncleJ-h! You've successfully authenticated...

# é‡æ–°æ¨é€
git push origin main

# æ–¹æ³• 2ï¼šé…ç½® Git ä½¿ç”¨ä»£ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy http://127.0.0.1:7890

# å–æ¶ˆä»£ç†é…ç½®
git config --global --unset http.proxy
git config --global --unset https.proxy
```

### é—®é¢˜ 5ï¼šæ„å»ºå¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
npm ERR! code ELIFECYCLE
npm run build:web å¤±è´¥
```

**è§£å†³æ–¹æ¡ˆï¼ˆæŒ‰é¡ºåºå°è¯•ï¼‰ï¼š**

```bash
# æ–¹æ³• 1ï¼šæ¸…ç†å¹¶é‡æ–°å®‰è£… Web ä¾èµ–
cd web/admin-spa
rm -rf node_modules package-lock.json
npm install
npm run build
cd ../..

# æ–¹æ³• 2ï¼šæ¸…ç† npm ç¼“å­˜
npm cache clean --force
cd web/admin-spa
npm install
npm run build
cd ../..

# æ–¹æ³• 3ï¼šæ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version
# åº”è¯¥æ˜¯ >= 18.0.0

# å¦‚æœç‰ˆæœ¬è¿‡ä½ï¼Œå‡çº§ Node.js
# ä½¿ç”¨ nvmï¼š
# nvm install 20
# nvm use 20

# æ–¹æ³• 4ï¼šä½¿ç”¨ --legacy-peer-deps
cd web/admin-spa
npm install --legacy-peer-deps
npm run build
cd ../..
```

### é—®é¢˜ 6ï¼šZeabur éƒ¨ç½²å¤±è´¥

**ç—‡çŠ¶ï¼šæ¨é€æˆåŠŸä½† Zeabur éƒ¨ç½²å¤±è´¥**

**æ£€æŸ¥æ­¥éª¤ï¼š**

1. **è®¿é—® Zeabur æ§åˆ¶å°**
   - ç™»å½• https://zeabur.com
   - è¿›å…¥ claude-relay-service é¡¹ç›®
   - æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

2. **å¸¸è§éƒ¨ç½²é”™è¯¯ï¼š**

```bash
# é”™è¯¯ 1ï¼šæ„å»ºè¶…æ—¶
# è§£å†³ï¼šåœ¨ Zeabur è®¾ç½®ä¸­å¢åŠ æ„å»ºè¶…æ—¶æ—¶é—´

# é”™è¯¯ 2ï¼šå†…å­˜ä¸è¶³
# è§£å†³ï¼šå‡çº§ Zeabur å®ä¾‹è§„æ ¼

# é”™è¯¯ 3ï¼šç¯å¢ƒå˜é‡ç¼ºå¤±
# è§£å†³ï¼šåœ¨ Zeabur è®¾ç½®ä¸­æ£€æŸ¥å¿…éœ€çš„ç¯å¢ƒå˜é‡ï¼š
# - JWT_SECRET
# - ENCRYPTION_KEY
# - REDIS_HOST
# - REDIS_PASSWORD

# é”™è¯¯ 4ï¼šç«¯å£å†²çª
# è§£å†³ï¼šæ£€æŸ¥ Zeabur ç«¯å£é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆé»˜è®¤ 3000ï¼‰
```

3. **æ‰‹åŠ¨è§¦å‘é‡æ–°éƒ¨ç½²ï¼š**
   - åœ¨ Zeabur æ§åˆ¶å°ç‚¹å‡» "Redeploy"
   - æˆ–æ¨é€ä¸€ä¸ªç©ºæäº¤ï¼š
   ```bash
   git commit --allow-empty -m "chore: è§¦å‘ Zeabur é‡æ–°éƒ¨ç½²"
   git push origin main
   ```

### é—®é¢˜ 7ï¼šåŒæ­¥ååŠŸèƒ½å¼‚å¸¸

**ç—‡çŠ¶ï¼šåŒæ­¥æˆåŠŸä½†æœåŠ¡è¿è¡Œå¼‚å¸¸**

**æ£€æŸ¥æ¸…å•ï¼š**

```bash
# 1. æ£€æŸ¥æœ¬åœ°ä»£ç æ˜¯å¦å®Œæ•´
git status
git log --oneline -5

# 2. éªŒè¯å…³é”®æ–‡ä»¶
ls -la web/admin-spa/public/logo.svg
ls -la web/admin-spa/public/favicon.ico
grep -n "Whoos Solutions" web/admin-spa/index.html

# 3. æœ¬åœ°æµ‹è¯•æœåŠ¡
npm install
npm run build:web
npm start

# 4. æ£€æŸ¥ç«¯å£ï¼ˆé»˜è®¤ 3000ï¼‰
curl http://localhost:3000/health

# 5. å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œé—®é¢˜å¯èƒ½åœ¨ Zeabur
# æ£€æŸ¥ Zeabur ç¯å¢ƒå˜é‡å’Œéƒ¨ç½²æ—¥å¿—
```

### ç´§æ€¥å›æ»šæ–¹æ¡ˆ

**å¦‚æœåŒæ­¥åå‡ºç°ä¸¥é‡é—®é¢˜ï¼Œéœ€è¦ç´§æ€¥å›æ»šï¼š**

```bash
# æ–¹æ³• 1ï¼šå›æ»šåˆ°ä¸Šä¸€æ¬¡æˆåŠŸçš„æäº¤
git log --oneline -10
# æ‰¾åˆ°åŒæ­¥å‰çš„ commit IDï¼Œä¾‹å¦‚ abc1234

git reset --hard abc1234
git push origin main --force

# æ–¹æ³• 2ï¼šä½¿ç”¨ git revertï¼ˆä¿ç•™å†å²ï¼‰
git revert HEAD
git push origin main

# æ–¹æ³• 3ï¼šåœ¨ Zeabur å›æ»šåˆ°ä¹‹å‰çš„éƒ¨ç½²
# åœ¨ Zeabur æ§åˆ¶å° â†’ Deployments â†’ é€‰æ‹©ä¹‹å‰çš„æˆåŠŸéƒ¨ç½² â†’ Redeploy
```

## ğŸ”„ æ–°æ¨¡å‹æ”¯æŒå’Œå®šä»·æ›´æ–°

### å½“ä¸Šæ¸¸å‘å¸ƒæ–°æ¨¡å‹æ”¯æŒæ—¶ï¼ˆå¦‚ Claude Opus 4.5ï¼‰

æ–°æ¨¡å‹é€šå¸¸ä¼šé€šè¿‡ä»¥ä¸‹æ–¹å¼é›†æˆåˆ°é¡¹ç›®ä¸­ï¼š

1. **æ¨¡å‹ ID æ³¨å†Œ** - åœ¨ `src/services/modelService.js` ä¸­æ·»åŠ æ¨¡å‹ ID
2. **å®šä»·æ•°æ®æ›´æ–°** - é€šè¿‡ price-mirror åˆ†æ”¯è‡ªåŠ¨åŒæ­¥
3. **æœåŠ¡é‡å¯** - è‡ªåŠ¨éƒ¨ç½²æ—¶é‡æ–°åŠ è½½é…ç½®

### åŒæ­¥åçš„æ¨¡å‹æ›´æ–°æ­¥éª¤

**åœ¨å®Œæˆä¸Šæ¸¸åŒæ­¥åï¼Œéœ€è¦æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®ï¼š**

```bash
# 1. æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®ï¼ˆæ‹‰å–æœ€æ–°ä»·æ ¼ï¼‰
npm run update:pricing

# 2. éªŒè¯æ–°æ¨¡å‹æ˜¯å¦å·²æ³¨å†Œ
grep -A 5 "getDefaultModels()" src/services/modelService.js

# 3. ï¼ˆå¯é€‰ï¼‰æ£€æŸ¥å®šä»·æ–‡ä»¶ä¸­çš„æ¨¡å‹æ•°é‡
grep -c '"litellm_provider":' resources/model-pricing/model_prices_and_context_window.json

# 4. æäº¤å®šä»·æ–‡ä»¶æ›´æ–°ï¼ˆå¦‚æœæœ‰å˜åŒ–ï¼‰
git add resources/model-pricing/model_prices_and_context_window.json
git commit -m "chore: æ›´æ–°æ¨¡å‹å®šä»·æ•°æ®"

# 5. æ¨é€åˆ° GitHub è§¦å‘ Zeabur è‡ªåŠ¨éƒ¨ç½²
git push origin main
```

### Zeabur è‡ªåŠ¨éƒ¨ç½²æœºåˆ¶

**é‡è¦ï¼šZeabur éƒ¨ç½²è¯´æ˜**

- âœ… **ä»£ç æ¨é€åè‡ªåŠ¨éƒ¨ç½²**: æ¨é€åˆ° GitHub åï¼ŒZeabur ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é‡æ–°éƒ¨ç½²
- âœ… **éƒ¨ç½²åŒ…å«æœ€æ–°æ¨¡å‹**: æ–°çš„æ¨¡å‹ ID å’Œå®šä»·æ•°æ®ä¼šåœ¨éƒ¨ç½²æ—¶ç”Ÿæ•ˆ
- âœ… **æ— éœ€æ‰‹åŠ¨é‡å¯**: éƒ¨ç½²å®ŒæˆåæœåŠ¡è‡ªåŠ¨é‡å¯ï¼Œæ–°æ¨¡å‹ç«‹å³å¯ç”¨
- â±ï¸ **éƒ¨ç½²æ—¶é—´**: é€šå¸¸ 2-5 åˆ†é’Ÿå®Œæˆï¼ˆå–å†³äºä¾èµ–å®‰è£…ï¼‰

**æ£€æŸ¥éƒ¨ç½²çŠ¶æ€ï¼š**
1. è®¿é—® [Zeabur æ§åˆ¶å°](https://zeabur.com)
2. æŸ¥çœ‹ claude-relay-service é¡¹ç›®çš„éƒ¨ç½²æ—¥å¿—
3. ç­‰å¾… "Running" çŠ¶æ€æ˜¾ç¤º

### æ–°æ¨¡å‹éªŒè¯æ¸…å•

éƒ¨ç½²å®Œæˆåï¼ŒéªŒè¯æ–°æ¨¡å‹å¯ç”¨æ€§ï¼š

- [ ] Zeabur éƒ¨ç½²çŠ¶æ€æ˜¾ç¤º "Running"
- [ ] è®¿é—® `/api/v1/models` ç«¯ç‚¹ï¼Œç¡®è®¤æ–°æ¨¡å‹åœ¨åˆ—è¡¨ä¸­
- [ ] åœ¨ Claude Code CLI ä¸­é€‰æ‹©æ–°æ¨¡å‹ï¼ˆå¦‚ `claude-opus-4-5-20251101`ï¼‰
- [ ] å‘é€æµ‹è¯•è¯·æ±‚ï¼Œç¡®è®¤è¿”å›æ­£å¸¸å“åº”
- [ ] æ£€æŸ¥ç®¡ç†åå°çš„ä½¿ç”¨ç»Ÿè®¡æ˜¯å¦æ­£å¸¸è®°å½•

### æ¨¡å‹å®šä»·å›é€€æœºåˆ¶

**å¦‚æœå®šä»·æ–‡ä»¶ä¸­ç¼ºå°‘æ–°æ¨¡å‹çš„ä»·æ ¼æ•°æ®ï¼š**

é¡¹ç›®æœ‰å†…ç½®çš„å›é€€æœºåˆ¶ï¼ˆè§ `src/services/pricingService.js`ï¼‰ï¼š

1. **ç¡¬ç¼–ç ä»·æ ¼**: Opus ç³»åˆ—é»˜è®¤ä½¿ç”¨ `$30/MTok` (1å°æ—¶ç¼“å­˜)
2. **ç›¸ä¼¼æ¨¡å‹å‚è€ƒ**: ç³»ç»Ÿä¼šä½¿ç”¨åŒç³»åˆ—æ¨¡å‹çš„ä»·æ ¼
3. **ä¸å½±å“åŠŸèƒ½**: å³ä½¿æ²¡æœ‰å‡†ç¡®ä»·æ ¼ï¼Œæ¨¡å‹ä»ç„¶å¯ç”¨

**å¸¸è§æ¨¡å‹ç³»åˆ—çš„å›é€€ä»·æ ¼ï¼š**
- Opus ç³»åˆ—: `$15/MTok` (input), `$75/MTok` (output)
- Sonnet ç³»åˆ—: `$3/MTok` (input), `$15/MTok` (output)
- Haiku ç³»åˆ—: `$0.8/MTok` (input), `$4/MTok` (output)

## ğŸ“ ç‰ˆæœ¬è®°å½•

| æ—¥æœŸ | ä¸Šæ¸¸ç‰ˆæœ¬ | æ“ä½œ | å†²çª | çŠ¶æ€ | å¤‡æ³¨ |
|------|---------|------|------|------|------|
| 2025-11-26 | v1.1.209 | é¦–æ¬¡åŒæ­¥ 56 ä¸ªç‰ˆæœ¬ + æ¨¡å‹æ›´æ–° | æ— å†²çª | âœ… æˆåŠŸ | é—æ¼å‰ç«¯æ¨¡å‹åˆ—è¡¨æ›´æ–° |
| 2025-11-26 | - | ä¿®å¤å‰ç«¯æ¨¡å‹åˆ—è¡¨ | æ—  | âœ… å®Œæˆ | æ›´æ–° CreateApiKeyModal å’Œ EditApiKeyModal çš„ commonModels |
| 2025-11-26 | v1.1.211 | åŒæ­¥ 7 ä¸ªæäº¤ (v1.1.210 + v1.1.211) | æ— å†²çª | âœ… æˆåŠŸ | ä¿®å¤apikeysæ’åºã€ç§»é™¤x-authorizationå¤´ã€å¢åŠ exportç­‰ |
| 2025-11-29 | v1.1.214 | åŒæ­¥ 6 ä¸ªæäº¤ (v1.1.212-214) | æ— å†²çª | âœ… æˆåŠŸ | ä¿®å¤Gemini/OpenAIè´¦æˆ·åˆ†ç»„è°ƒåº¦ã€Claude Consoleæµ‹è¯•ã€è¡¨æ ¼åˆ—å®½ä¼˜åŒ– |
| 2025-11-30 | v1.1.215 | åŒæ­¥ 2 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | è°ƒæ•´Gemini-API BaseApiåç¼€é€‚é…æ›´å¤šç«¯ç‚¹ |
| 2025-11-30 | v1.1.216 | åŒæ­¥ 3 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | ä¿®å¤Claude API 400é”™è¯¯(tool_result/tool_useä¸åŒ¹é…) |
| 2025-12-11 | v1.1.231 | åŒæ­¥ 7 ä¸ªæäº¤ (v1.1.217-231) | æ— å†²çª | âœ… æˆåŠŸ | ç”¨æˆ·æ¶ˆæ¯é˜Ÿåˆ—é”é‡Šæ”¾ä¼˜åŒ–ã€å¹¶å‘è·¯ç”±å®‰å…¨ä¿®å¤ã€å®¢æˆ·ç«¯æ–­å¼€æ—¥å¿—ä¼˜åŒ– |
| 2025-12-11 | v1.1.232 | åŒæ­¥ 4 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | Codex tokenç»Ÿè®¡ä¿®å¤ã€è´¦æˆ·åˆ—è¡¨åŠ è½½å¥å£®æ€§å¢å¼º |
| 2025-12-12 | v1.1.233 | åŒæ­¥ 8 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | **é‡è¦åŠŸèƒ½**: å¹¶å‘è¯·æ±‚æ’é˜Ÿç³»ç»Ÿï¼ˆè§£å†³Claude Codeå¹¶è¡Œè°ƒç”¨429é—®é¢˜ï¼‰ |
| 2025-12-15 | v1.1.235 | åŒæ­¥ 6 ä¸ªæäº¤ (v1.1.234-235) | æ— å†²çª | âœ… æˆåŠŸ | Opus 4.5å¿«æ·æ˜ å°„ã€Console headerç™½åå•ã€API Keyæˆæœ¬è®¡ç®—ä¿®å¤ |
| 2025-12-19 | v1.1.236 | åŒæ­¥ 11 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | Cronå®šæ—¶æµ‹è¯•åŠŸèƒ½ã€OpenAIè°ƒåº¦priorityä¿®å¤ã€å…¨æ—¶é—´ç»Ÿè®¡ä¿®å¤ |
| 2025-12-20 | v1.1.237 | åŒæ­¥ 2 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | Claudeå•è´¦æˆ·ä¸²è¡Œé˜Ÿåˆ—æ”¯æŒï¼ˆmaxConcurrencyé…ç½®ï¼‰ |
| 2025-12-22 | v1.1.238 | åŒæ­¥ 9 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | é¢„çƒ­è¯·æ±‚æ‹¦æˆª(interceptWarmup)ã€é¥æµ‹ç«¯ç‚¹é€‚é…ã€Claude Code Plusæ¨è |
| 2025-12-24 | v1.1.239 | åŒæ­¥ 3 ä¸ªæäº¤ | æ— å†²çª | âœ… æˆåŠŸ | 403é”™è¯¯é‡è¯•æœºåˆ¶ã€å¹¶å‘æ¸…ç†WRONGTYPEä¿®å¤ |

**ä¸‹æ¬¡æ›´æ–°è¯·åœ¨æ­¤æ·»åŠ è®°å½•**

---

## ğŸ“‹ åŒæ­¥å‰æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹åŒæ­¥ä¹‹å‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹äº‹é¡¹ï¼š

### ç¯å¢ƒæ£€æŸ¥
- [ ] Git å·²å®‰è£…ï¼ˆ`git --version`ï¼‰
- [ ] Node.js >= 18.0.0ï¼ˆ`node --version`ï¼‰
- [ ] npm å·²å®‰è£…ï¼ˆ`npm --version`ï¼‰
- [ ] å·²é…ç½® SSH key æˆ– Git å‡­æ®
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸

### é¡¹ç›®çŠ¶æ€æ£€æŸ¥
- [ ] æœ¬åœ°æ²¡æœ‰æœªæäº¤çš„æ›´æ”¹ï¼ˆ`git status` æ˜¾ç¤º cleanï¼‰
- [ ] å½“å‰åœ¨ main åˆ†æ”¯ï¼ˆ`git branch` æ˜¾ç¤º * mainï¼‰
- [ ] upstream è¿œç¨‹ä»“åº“å·²é…ç½®ï¼ˆ`git remote -v` æ˜¾ç¤º upstreamï¼‰
- [ ] æœ€è¿‘ä¸€æ¬¡éƒ¨ç½²æ˜¯æˆåŠŸçš„

### å¤‡ä»½æ£€æŸ¥
- [ ] GitHub ä¸Šæœ‰æœ€æ–°ä»£ç 
- [ ] Zeabur ä¸Šçš„æœåŠ¡è¿è¡Œæ­£å¸¸
- [ ] å·²è®°å½•å½“å‰ç‰ˆæœ¬å·ï¼ˆ`git log -1`ï¼‰

## ğŸ¯ æœ€ä½³å®è·µ

### åŒæ­¥æ—¶æœºé€‰æ‹©

**æ¨èæ—¶æœºï¼š**
- âœ… ä¸Šæ¸¸å‘å¸ƒé‡è¦æ–°åŠŸèƒ½æ—¶
- âœ… ä¸Šæ¸¸å‘å¸ƒå®‰å…¨æ›´æ–°æ—¶
- âœ… ä¸Šæ¸¸æ·»åŠ æ–°æ¨¡å‹æ”¯æŒæ—¶
- âœ… å®šæœŸç»´æŠ¤çª—å£ï¼ˆå¦‚æ¯å‘¨äº”ä¸‹åˆï¼‰

**é¿å…æ—¶æœºï¼š**
- âŒ ç”Ÿäº§ç¯å¢ƒé«˜å³°æœŸ
- âŒ æ­£åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼ˆæœ‰æœªæäº¤ä»£ç ï¼‰
- âŒ åˆšå®Œæˆé‡è¦éƒ¨ç½²ï¼ˆç­‰å¾…ç¨³å®šï¼‰
- âŒ ç½‘ç»œä¸ç¨³å®šæ—¶

### åŒæ­¥é¢‘ç‡å»ºè®®

| é¡¹ç›®é˜¶æ®µ | å»ºè®®é¢‘ç‡ | è¯´æ˜ |
|---------|---------|------|
| åˆæœŸï¼ˆåˆš forkï¼‰ | æ¯å‘¨ 1-2 æ¬¡ | å¿«é€Ÿè·Ÿè¿›ä¸Šæ¸¸æ”¹è¿› |
| ç¨³å®šæœŸ | æ¯ 2-4 å‘¨ | å®šæœŸè·å–æ–°åŠŸèƒ½ |
| ä»…ç»´æŠ¤ | æ¯æœˆæˆ–æŒ‰éœ€ | é‡è¦æ›´æ–°æ—¶æ‰åŒæ­¥ |

### ç‰ˆæœ¬ç®¡ç†æŠ€å·§

**ä½¿ç”¨ Git Tags æ ‡è®°é‡è¦ç‰ˆæœ¬ï¼š**

```bash
# åŒæ­¥æˆåŠŸåï¼Œæ‰“ä¸Šç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.1.209-whoos -m "åŒæ­¥ä¸Šæ¸¸ v1.1.209 + Whoos å“ç‰Œå®šåˆ¶"
git push origin v1.1.209-whoos

# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# å›é€€åˆ°ç‰¹å®šæ ‡ç­¾
git checkout v1.1.209-whoos
```

**åˆ›å»ºåŒæ­¥è®°å½•æ–‡ä»¶ï¼š**

```bash
# æ¯æ¬¡åŒæ­¥åè®°å½•ä¿¡æ¯
cat >> SYNC_LOG.md << EOF

## $(date +%Y-%m-%d) - åŒæ­¥ v1.1.209
- ä¸Šæ¸¸ç‰ˆæœ¬: v1.1.209
- æ–°å¢åŠŸèƒ½: Claude Opus 4.5 æ”¯æŒ
- å†²çªæ–‡ä»¶: æ— 
- éƒ¨ç½²çŠ¶æ€: âœ… æˆåŠŸ
- éªŒè¯ç»“æœ: æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

EOF
```

## ğŸ’¡ æç¤ºä¸å»ºè®®

### æ—¥å¸¸ç»´æŠ¤

- **åŒæ­¥é¢‘ç‡**: å»ºè®®æ¯ 1-2 å‘¨æ£€æŸ¥ä¸€æ¬¡ä¸Šæ¸¸æ›´æ–°
- **æ£€æŸ¥æ›´æ–°**: è®¢é˜…ä¸Šæ¸¸ [Releases](https://github.com/Wei-Shaw/claude-relay-service/releases) é¡µé¢
- **å¤‡ä»½ç­–ç•¥**: GitHub è‡ªåŠ¨ä¿å­˜ï¼Œæœ¬åœ°å®šæœŸ `git tag` æ ‡è®°é‡è¦ç‰ˆæœ¬
- **å›æ»šæ–¹æ¡ˆ**: ä¿ç•™æœ€è¿‘ 3 ä¸ªæˆåŠŸç‰ˆæœ¬çš„æ ‡ç­¾ï¼Œä»¥ä¾¿å¿«é€Ÿå›æ»š

### ç›‘æ§å’Œå‘Šè­¦

**è®¾ç½® GitHub é€šçŸ¥ï¼š**
1. è®¿é—® https://github.com/Wei-Shaw/claude-relay-service
2. ç‚¹å‡» "Watch" â†’ "Custom" â†’ é€‰æ‹© "Releases"
3. æ”¶åˆ°æ–° Release é€šçŸ¥æ—¶åŠæ—¶åŒæ­¥

**Zeabur éƒ¨ç½²ç›‘æ§ï¼š**
1. åœ¨ Zeabur è®¾ç½®ä¸­é…ç½®éƒ¨ç½²é€šçŸ¥
2. å…³æ³¨éƒ¨ç½²å¤±è´¥å‘Šè­¦
3. å®šæœŸæŸ¥çœ‹æœåŠ¡å¥åº·çŠ¶æ€

### å›¢é˜Ÿåä½œ

å¦‚æœå¤šäººç»´æŠ¤é¡¹ç›®ï¼š

```bash
# åŒæ­¥å‰å…ˆæ‹‰å–å›¢é˜Ÿçš„æœ€æ–°æ”¹åŠ¨
git fetch origin
git rebase origin/main

# ç„¶åå†åŒæ­¥ä¸Šæ¸¸
git fetch upstream
git rebase upstream/main

# æ¨é€æ—¶ä½¿ç”¨ --force-with-lease è€Œä¸æ˜¯ --force
git push origin main --force-with-lease
```

### è‡ªåŠ¨åŒ–è„šæœ¬

**åˆ›å»ºåŒæ­¥è„šæœ¬ï¼ˆå¯é€‰ï¼‰ï¼š**

```bash
# åˆ›å»º sync-upstream.sh
cat > sync-upstream.sh << 'EOF'
#!/bin/bash
set -e

echo "ğŸš€ å¼€å§‹åŒæ­¥ä¸Šæ¸¸..."

# 1. æ£€æŸ¥å·¥ä½œåŒº
if [[ -n $(git status -s) ]]; then
  echo "âŒ é”™è¯¯ï¼šå·¥ä½œåŒºä¸å¹²å‡€ï¼Œè¯·å…ˆæäº¤æˆ–æš‚å­˜æ›´æ”¹"
  exit 1
fi

# 2. æ‹‰å–ä¸Šæ¸¸
echo "ğŸ“¥ æ‹‰å–ä¸Šæ¸¸æœ€æ–°ä»£ç ..."
git fetch upstream

# 3. æ˜¾ç¤ºæ›´æ–°ä¿¡æ¯
echo "ğŸ“Š ä¸Šæ¸¸æ–°å¢æäº¤ï¼š"
git log --oneline HEAD..upstream/main | head -10

# 4. è¯¢é—®æ˜¯å¦ç»§ç»­
read -p "æ˜¯å¦ç»§ç»­åŒæ­¥ï¼Ÿ(y/n) " -n 1 -r
echo
if [[ ! $REPLY =~ ^[Yy]$ ]]; then
  exit 1
fi

# 5. Rebase åˆå¹¶
echo "ğŸ”„ æ‰§è¡Œ rebase..."
git rebase upstream/main

# 6. æ›´æ–°å®šä»·
echo "ğŸ’° æ›´æ–°æ¨¡å‹å®šä»·..."
npm run update:pricing

# 7. æ„å»ºæµ‹è¯•
echo "ğŸ—ï¸ æµ‹è¯•æ„å»º..."
npm run build:web

# 8. æ¨é€
echo "ğŸ“¤ æ¨é€åˆ° GitHub..."
git push origin main --force-with-lease

echo "âœ… åŒæ­¥å®Œæˆï¼"
echo "ğŸ”— è¯·è®¿é—® Zeabur æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€: https://zeabur.com"
EOF

chmod +x sync-upstream.sh

# ä½¿ç”¨è„šæœ¬
./sync-upstream.sh
```

## ğŸ“– å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹ä¸Šæ¸¸æ›´æ–°
git fetch upstream && git log --oneline HEAD..upstream/main

# å®Œæ•´åŒæ­¥æµç¨‹ï¼ˆä¸€é”®å¤åˆ¶æ‰§è¡Œï¼‰
cd /Users/jeffreyhu/DEV/claude-relay-service && \
git fetch upstream && \
git rebase upstream/main && \
npm run build:web && \
npm run update:pricing && \
git push origin main --force-with-lease

# æ£€æŸ¥åŒæ­¥çŠ¶æ€
git log --oneline -10
git remote -v
git status

# ç´§æ€¥å›æ»š
git reset --hard origin/main
git push origin main --force
```

### Git è¿œç¨‹ä»“åº“é…ç½®é€ŸæŸ¥

```bash
# originï¼ˆä½ çš„ forkï¼‰
git remote set-url origin git@github.com:UncleJ-h/claude-relay-service.git

# upstreamï¼ˆä¸Šæ¸¸ä»“åº“ï¼‰
git remote set-url upstream https://github.com/Wei-Shaw/claude-relay-service.git

# éªŒè¯é…ç½®
git remote -v
```

### å†²çªå¿«é€Ÿè§£å†³

```bash
# ä¿ç•™æˆ‘ä»¬çš„å“ç‰Œæ–‡ä»¶
git checkout --ours web/admin-spa/src/styles/global.css
git checkout --ours web/admin-spa/src/views/ApiStatsView.vue
git checkout --ours web/admin-spa/public/*
git checkout --ours web/admin-spa/index.html
git add web/admin-spa/

# ä¿ç•™ä¸Šæ¸¸åŠŸèƒ½ä»£ç 
git checkout --theirs src/
git add src/

# ç»§ç»­ rebase
git rebase --continue
```

## â“ å¸¸è§é—®é¢˜ FAQ

### Q1: å¤šä¹…åŒæ­¥ä¸€æ¬¡ä¸Šæ¸¸æ¯”è¾ƒåˆé€‚ï¼Ÿ

**A:** å»ºè®®æ¯ 1-2 å‘¨æ£€æŸ¥ä¸€æ¬¡ä¸Šæ¸¸æ›´æ–°ã€‚å¦‚æœä¸Šæ¸¸å‘å¸ƒé‡è¦åŠŸèƒ½æˆ–å®‰å…¨æ›´æ–°ï¼Œåº”ç«‹å³åŒæ­¥ã€‚

### Q2: å¦‚æœåŒæ­¥åå‡ºç°é—®é¢˜æ€ä¹ˆåŠï¼Ÿ

**A:** ä½¿ç”¨ç´§æ€¥å›æ»šæ–¹æ¡ˆï¼š
```bash
git log --oneline -10  # æ‰¾åˆ°åŒæ­¥å‰çš„ commit
git reset --hard <commit-id>
git push origin main --force
```

### Q3: rebase å’Œ merge æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆç”¨ rebaseï¼Ÿ

**A:**
- **Rebase**: å°†æˆ‘ä»¬çš„å®šåˆ¶æäº¤"ç§»åŠ¨"åˆ°ä¸Šæ¸¸æœ€æ–°ä»£ç ä¹‹ä¸Šï¼Œä¿æŒçº¿æ€§å†å²
- **Merge**: åˆ›å»ºåˆå¹¶æäº¤ï¼Œå†å²ä¼šæœ‰åˆ†å‰
- **æˆ‘ä»¬ç”¨ rebase å› ä¸º**: ä¿æŒæäº¤å†å²å¹²å‡€æ•´æ´ï¼Œä¾¿äºæŸ¥çœ‹æˆ‘ä»¬çš„å®šåˆ¶å†…å®¹

### Q4: ä¸ºä»€ä¹ˆæ¨é€è¦ç”¨ --force-with-leaseï¼Ÿ

**A:**
- `--force-with-lease` æ¯” `--force` æ›´å®‰å…¨
- åªæœ‰åœ¨è¿œç¨‹æ²¡æœ‰å…¶ä»–äººæ¨é€çš„æƒ…å†µä¸‹æ‰ä¼šå¼ºåˆ¶æ¨é€
- é¿å…æ„å¤–è¦†ç›–ä»–äººçš„å·¥ä½œ

### Q5: å¦‚ä½•çŸ¥é“ä¸Šæ¸¸æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒï¼Ÿ

**A:** ä¸‰ç§æ–¹å¼ï¼š
1. è®¢é˜…ä¸Šæ¸¸ä»“åº“çš„ Release é€šçŸ¥ï¼ˆæ¨èï¼‰
2. å®šæœŸè®¿é—® https://github.com/Wei-Shaw/claude-relay-service/releases
3. ä½¿ç”¨ `git fetch upstream && git log HEAD..upstream/main` æŸ¥çœ‹

### Q6: åŒæ­¥æ—¶å‡ºç°ç½‘ç»œè¶…æ—¶æ€ä¹ˆåŠï¼Ÿ

**A:** åˆ‡æ¢åˆ° SSH æ–¹å¼ï¼š
```bash
git remote set-url origin git@github.com:UncleJ-h/claude-relay-service.git
ssh -T git@github.com  # æµ‹è¯•è¿æ¥
git push origin main
```

### Q7: Zeabur éƒ¨ç½²éœ€è¦å¤šä¹…ï¼Ÿ

**A:** é€šå¸¸ 2-5 åˆ†é’Ÿã€‚å¦‚æœè¶…è¿‡ 10 åˆ†é’Ÿï¼Œæ£€æŸ¥ Zeabur æ§åˆ¶å°çš„éƒ¨ç½²æ—¥å¿—ã€‚

### Q8: å¦‚ä½•éªŒè¯æ–°æ¨¡å‹æ˜¯å¦å¯ç”¨ï¼Ÿ

**A:** åŒæ­¥å¹¶éƒ¨ç½²åï¼š
1. è®¿é—® `https://your-domain.zeabur.app/api/v1/models`
2. æŸ¥æ‰¾æ–°æ¨¡å‹ IDï¼ˆå¦‚ `claude-opus-4-5-20251101`ï¼‰
3. åœ¨ Claude Code CLI ä¸­é€‰æ‹©å¹¶æµ‹è¯•

### Q9: å®šä»·æ–‡ä»¶éœ€è¦æ‰‹åŠ¨æ›´æ–°å—ï¼Ÿ

**A:** ä¸éœ€è¦ã€‚è¿è¡Œ `npm run update:pricing` ä¼šè‡ªåŠ¨ä»ä¸Šæ¸¸çš„ price-mirror åˆ†æ”¯æ‹‰å–æœ€æ–°å®šä»·ã€‚

### Q10: å¦‚æœå¿˜è®°æ›´æ–°å®šä»·ä¼šæ€æ ·ï¼Ÿ

**A:** ä¸å½±å“åŠŸèƒ½ã€‚ç³»ç»Ÿæœ‰å›é€€æœºåˆ¶ï¼Œä¼šä½¿ç”¨ç¡¬ç¼–ç çš„é»˜è®¤ä»·æ ¼ï¼ˆè§ `src/services/pricingService.js`ï¼‰ã€‚

### Q11: å¯ä»¥è·³è¿‡æŸäº›ä¸Šæ¸¸æ›´æ–°å—ï¼Ÿ

**A:** ä¸å»ºè®®ã€‚æ¯æ¬¡åŒæ­¥åº”è¯¥æ‹‰å–æ‰€æœ‰ä¸Šæ¸¸æ›´æ–°ï¼Œä»¥ä¿æŒåŠŸèƒ½å®Œæ•´æ€§å’Œå®‰å…¨æ€§ã€‚

### Q12: å“ç‰Œå®šåˆ¶ä¼šè¢«è¦†ç›–å—ï¼Ÿ

**A:** æ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šã€‚å¦‚æœå‡ºç°å†²çªï¼ŒæŒ‰ç…§å†²çªå¤„ç†ç­–ç•¥ä¿ç•™æˆ‘ä»¬çš„å“ç‰Œæ–‡ä»¶å³å¯ã€‚

## ğŸ†˜ ç´§æ€¥è”ç³»æ–¹å¼

å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼š

1. **æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£**:
   - `README.md` - é¡¹ç›®è¯´æ˜
   - `CLAUDE.md` - å¼€å‘æŒ‡å—
   - æœ¬æ–‡æ¡£ - åŒæ­¥æŒ‡å—

2. **æ£€æŸ¥ä¸Šæ¸¸é—®é¢˜**:
   - [ä¸Šæ¸¸ Issues](https://github.com/Wei-Shaw/claude-relay-service/issues)
   - [ä¸Šæ¸¸ Discussions](https://github.com/Wei-Shaw/claude-relay-service/discussions)

3. **ä½¿ç”¨ Claude Code æ±‚åŠ©**:
   ```
   æˆ‘åœ¨åŒæ­¥ä¸Šæ¸¸æ—¶é‡åˆ°äº†é—®é¢˜ï¼š[æè¿°é—®é¢˜]
   è¯·å‚è€ƒ SYNC_UPSTREAM.md æ–‡æ¡£å¸®æˆ‘è§£å†³
   ```

## ğŸ”— ç›¸å…³é“¾æ¥

- [ä¸Šæ¸¸ä»“åº“](https://github.com/Wei-Shaw/claude-relay-service)
- [ä¸Šæ¸¸ Releases](https://github.com/Wei-Shaw/claude-relay-service/releases)
- [æˆ‘ä»¬çš„ Fork](https://github.com/UncleJ-h/claude-relay-service)
- [Zeabur éƒ¨ç½²æ§åˆ¶å°](https://zeabur.com)
- [Git Rebase æ–‡æ¡£](https://git-scm.com/docs/git-rebase)
- [Git å¼ºåˆ¶æ¨é€æœ€ä½³å®è·µ](https://git-scm.com/docs/git-push#Documentation/git-push.txt---force-with-lease)

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (2025-11-26)
**æœ€åæ›´æ–°**: æ·»åŠ æ¨¡å‹æ›´æ–°ç« èŠ‚ã€æ•…éšœæ’é™¤ã€æœ€ä½³å®è·µå’Œ FAQ
**ç»´æŠ¤è€…**: UncleJ-h
